<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆØ§Ø¨Ø© Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø­ØµØ§ÙŠØ§ - Rania Abdelhamid</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #d37d3d; --beige: #f4eee1; --dark: #5d4037; }
        
        body {
            margin: 0; font-family: 'Cairo', sans-serif; background-color: var(--beige);
            min-height: 100vh; display: flex; justify-content: center; align-items: center;
            overflow: hidden; position: relative;
        }

        /* Ø­Ø±ÙƒØ§Øª Ø®Ù„ÙÙŠØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…ÙƒØ«ÙØ© */
        .bg-layer { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }
        .edu-icon { position: absolute; opacity: 0.25; fill: var(--primary); animation: floatAnim 10s infinite linear; }
        @keyframes floatAnim {
            0% { transform: translateY(110vh) rotate(0deg); }
            100% { transform: translateY(-20vh) rotate(360deg); }
        }

        .main-card {
            background: rgba(255, 255, 255, 0.98); padding: 25px; border-radius: 35px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1); width: 92%; max-width: 450px;
            border: 6px solid #fff; position: relative; z-index: 10; text-align: center;
        }

        .admin-box { display: flex; justify-content: space-between; font-size: 0.7rem; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .admin-box b { color: var(--primary); display: block; font-size: 0.75rem; }

        .header h1 { font-size: 1.4rem; color: var(--dark); margin: 0; }
        .badge { background: var(--primary); color: white; padding: 3px 12px; border-radius: 20px; font-size: 0.8rem; display: inline-block; margin: 10px 0; }

        .form-group { background: #fffcf7; padding: 20px; border-radius: 20px; border: 1px solid #e2d9c5; }
        label { display: block; text-align: right; font-weight: bold; color: #8d6e63; margin-bottom: 5px; }
        select, input { width: 100%; padding: 12px; margin-bottom: 15px; border: 2px solid #d1c4b2; border-radius: 10px; outline: none; box-sizing: border-box; }
        
        .btn-view { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 12px; font-size: 1.1rem; font-weight: bold; cursor: pointer; }

        /* ØµÙØ­Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Overlay) */
        #resultOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--beige); z-index: 100; display: none;
            flex-direction: column; align-items: center; justify-content: center;
            animation: fadeIn 0.4s ease;
        }

        .result-content { background: white; width: 90%; max-width: 400px; padding: 25px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .st-name { background: var(--primary); color: white; padding: 15px; border-radius: 15px; margin-bottom: 15px; font-size: 1.1rem; font-weight: bold; }
        
        .table-scroll { max-height: 300px; overflow-y: auto; }
        table { width: 100%; border-collapse: collapse; }
        td { padding: 10px; border-bottom: 1px solid #eee; text-align: right; }
        .val { color: var(--primary); font-weight: bold; text-align: left; }

        .btn-back { margin-top: 20px; background: var(--dark); color: white; border: none; padding: 12px 30px; border-radius: 10px; cursor: pointer; }

        .footer-name { margin-top: 15px; font-size: 0.8rem; color: #999; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="bg-layer" id="iconsBg"></div>

<div class="main-card">
    <div class="admin-box">
        <div>Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©<b>Ø£/ Ø¹Ø¨Ø¯ Ø§Ù„Ø­Ù…ÙŠØ¯ Ø¨Ø¯Ø±ÙŠ</b></div>
        <div>Ø§Ù„ÙˆÙƒÙŠÙ„<b>Ø£/ ÙŠØ§Ø³Ø± Ø§Ù„Ù…Ù‡Ø¯ÙŠ</b></div>
        <div>Ø§Ù„ÙƒÙ†ØªØ±ÙˆÙ„<b>Ø£/ Ù‡ÙŠØ§Ù… Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­ÙŠÙ…</b></div>
    </div>
    
    <div class="header">
        <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø­ØµØ§ÙŠØ§ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</h1>
        <div class="badge">Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø·Ù„Ø§Ø¨ 2026</div>
    </div>

    <div class="form-group">
        <label>Ø§Ù„ØµÙ:</label>
        <select id="gradeSelect">
            <option value="1">Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
            <option value="2">Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
        </select>
        <label>Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³:</label>
        <input type="number" id="seatInput" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ù‡Ù†Ø§">
        <button class="btn-view" onclick="loadStudent()">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© âœ¨</button>
    </div>

    <div class="footer-name">Designed by Rania Abdelhamid Badry</div>
</div>

<div id="resultOverlay">
    <div class="result-content">
        <div class="st-name" id="nameDisplay"></div>
        <div class="table-scroll">
            <table><tbody id="resTable"></tbody></table>
        </div>
        <button class="btn-back" onclick="closeResult()">Ø¨Ø­Ø« Ø¢Ø®Ø±</button>
    </div>
</div>

<script>
    // Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø­Ø±ÙƒØ§Øª
    const bg = document.getElementById('iconsBg');
    const icons = ['ğŸ“š', 'ğŸ§ª', 'ğŸ“', 'âœï¸', 'ğŸ“–'];
    for(let i=0; i<15; i++) {
        let span = document.createElement('span');
        span.className = 'edu-icon';
        span.innerText = icons[Math.floor(Math.random()*icons.length)];
        span.style.left = Math.random() * 100 + '%';
        span.style.fontSize = (Math.random() * 20 + 20) + 'px';
        span.style.animationDelay = Math.random() * 10 + 's';
        bg.appendChild(span);
    }

    const apis = {
        "1": "https://docs.google.com/spreadsheets/d/e/2PACX-1vRJPLHZ-MIktvCWtTnuLxdH7DRCLrDsMfQtgoB-X-tdWYLetDPRw-Y4AhrqTIJViA/pub?output=csv",
        "2": "https://docs.google.com/spreadsheets/d/e/2PACX-1vT4Ngahq-48563jJP3X7ZW76339e1KuIh8s2TJz6-P11CNKb720IY242DLNbEbQ2g/pub?output=csv"
    };

    async function loadStudent() {
        const grade = document.getElementById('gradeSelect').value;
        const seat = document.getElementById('seatInput').value.trim();
        if(!seat) return alert("Ø§Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³");

        try {
            const resp = await fetch(apis[grade]);
            const text = await resp.text();
            const rows = text.split('\n').map(r => r.split(','));
            const student = rows.find(r => r[0].trim() === seat);

            if(student) {
                document.getElementById('nameDisplay').innerText = student[1];
                let html = "";
                for(let i=2; i<rows[0].length; i++) {
                    if(rows[0][i]) html += `<tr><td>${rows[0][i]}</td><td class="val">${student[i]}</td></tr>`;
                }
                document.getElementById('resTable').innerHTML = html;
                document.getElementById('resultOverlay').style.display = 'flex';
            } else { alert("Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯"); }
        } catch(e) { alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„"); }
    }

    function closeResult() { document.getElementById('resultOverlay').style.display = 'none'; }
</script>
</body>
    </html>
