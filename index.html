<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆØ§Ø¨Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø­ØµØ§ÙŠØ§ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© | Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³Ø© Ø±Ø§Ù†ÙŠØ§</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

        :root {
            --primary: #e67e22; /* Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
            --beige: #fdf5e6;   /* Ø§Ù„Ø¨ÙŠØ¬ */
            --glass: rgba(255, 255, 255, 0.9);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
            background-color: var(--beige);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        /* Ø®Ù„ÙÙŠØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù‡Ø§Ø¯Ø¦Ø© ÙˆØ­Ø±ÙƒØ§Øª */
        .background-animation {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, #fdf5e6 0%, #ffecdb 100%);
        }

        .floating-icons {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.15;
            pointer-events: none;
        }

        .icon {
            position: absolute;
            animation: float 20s linear infinite;
            color: var(--primary);
            font-size: 40px;
        }

        @keyframes float {
            0% { transform: translateY(110vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-20vh) rotate(360deg); opacity: 0; }
        }

        /* ÙƒØ§Ø±Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .container {
            width: 90%;
            max-width: 650px;
            background: var(--glass);
            backdrop-filter: blur(15px);
            padding: 40px;
            border-radius: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            border: 2px solid white;
            text-align: center;
            position: relative;
        }

        h1 { color: var(--primary); margin: 0; font-size: 28px; }
        .subtitle { color: #888; margin-bottom: 30px; font-weight: bold; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¨Ø­Ø« */
        .search-box {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        select, input {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 15px;
            font-family: 'Cairo';
            font-size: 16px;
            outline: none;
            transition: 0.3s;
        }

        select:focus, input:focus { border-color: var(--primary); box-shadow: 0 0 15px rgba(230,126,34,0.2); }

        button {
            padding: 15px;
            background: linear-gradient(45deg, var(--primary), #d35400);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }

        button:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(230,126,34,0.3); }

        /* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø¨Ø¯Ø¹ */
        .result-section {
            display: none;
            animation: fadeInUp 0.8s ease-out forwards;
            margin-top: 30px;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .student-header {
            background: var(--primary);
            color: white;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-size: 20px;
        }

        .result-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .result-table tr td {
            padding: 15px;
            border-bottom: 1px solid #eee;
            text-align: right;
        }

        .result-table tr td:last-child {
            color: var(--primary);
            font-weight: bold;
            text-align: left;
        }

        .total-row { background: #fff5e6; font-size: 18px; font-weight: bold; }

        footer {
            margin-top: 40px;
            font-size: 13px;
            color: #999;
        }

        .developer { color: var(--primary); font-weight: bold; }
    </style>
</head>
<body>

<div class="background-animation">
    <div class="floating-icons" id="iconsContainer"></div>
</div>

<div class="container">
    <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø­ØµØ§ÙŠØ§ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©</h1>
    <div class="subtitle">Ù†Ø¸Ø§Ù… Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø°ÙƒÙŠ - 2026</div>

    <div class="search-box">
        <select id="gradeSelect">
            <option value="1">Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
            <option value="2">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
        </select>
        <input type="number" id="seatNo" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³ Ù‡Ù†Ø§">
        <button onclick="getResults()">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¢Ù†</button>
    </div>

    <div id="resultSection" class="result-section">
        <div class="student-header" id="studentName"></div>
        <table class="result-table">
            <tbody id="resultBody">
                </tbody>
        </table>
        <button style="margin-top:20px; background:#666;" onclick="window.print()">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</button>
    </div>

    <footer>
        ØªØ·ÙˆÙŠØ± ÙˆØ¨Ø±Ù…Ø¬Ø©: <span class="developer">Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³Ø© Rania abdelhameed</span>
    </footer>
</div>

<script>
    // Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù„ÙŠ Ø¨Ø¹ØªÙŠÙ‡Ø§ ÙŠØ§ Ø¨Ø´Ù…Ù‡Ù†Ø¯Ø³Ø©
    const SHEET_LINKS = {
        "1": "https://docs.google.com/spreadsheets/d/e/2PACX-1vRJPLHZ-MIktvCWtTnuLxdH7DRCLrDsMfQtgoB-X-tdWYLetDPRw-Y4AhrqTIJViA/pub?output=csv",
        "2": "https://docs.google.com/spreadsheets/d/e/2PACX-1vT4Ngahq-48563jJP3X7ZW76339e1KuIh8s2TJz6-P11CNKb720IY242DLNbEbQ2g/pub?output=csv"
    };

    // ØªÙˆÙ„ÙŠØ¯ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ù…ØªØ­Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
    const icons = ['ğŸ“–', 'ğŸ”¬', 'ğŸ“', 'ğŸ§ª', 'âœï¸', 'ğŸŒ'];
    const container = document.getElementById('iconsContainer');
    for (let i = 0; i < 15; i++) {
        let div = document.createElement('div');
        div.className = 'icon';
        div.innerText = icons[Math.floor(Math.random() * icons.length)];
        div.style.left = Math.random() * 100 + '%';
        div.style.animationDelay = Math.random() * 10 + 's';
        div.style.animationDuration = (Math.random() * 10 + 15) + 's';
        container.appendChild(div);
    }

    async function getResults() {
        const grade = document.getElementById('gradeSelect').value;
        const seatNo = document.getElementById('seatNo').value;
        const resultSection = document.getElementById('resultSection');

        if (!seatNo) {
            alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ÙŠ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³ Ø£ÙˆÙ„Ø§Ù‹");
            return;
        }

        try {
            const response = await fetch(SHEET_LINKS[grade]);
            const csv = await response.text();
            const rows = csv.split('\n').map(r => r.split(','));
            
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø·Ø§Ù„Ø¨ (Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³ ÙÙŠ Ø§Ù„Ø¹Ù…ÙˆØ¯ 0)
            const student = rows.find(row => row[0].trim() === seatNo.trim());

            if (student) {
                document.getElementById('studentName').innerText = "Ø§Ù„Ø·Ø§Ù„Ø¨: " + student[1];
                
                // Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…ÙˆØ§Ø¯ (ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ø­Ø³Ø¨ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¥ÙƒØ³ÙŠÙ„ Ø¹Ù†Ø¯Ùƒ)
                const subjects = ["Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³", "Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨", "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ø¬Ù†Ø¨ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰", "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ø¬Ù†Ø¨ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©", "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡", "Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡", "Ø§Ù„Ø£Ø­ÙŠØ§Ø¡", "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹"];
                
                let tableHtml = "";
                // Ù†Ø¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø±Ù‚Ù… 2 (Ø£ÙˆÙ„ Ù…Ø§Ø¯Ø©) Ø­ØªÙ‰ Ø¢Ø®Ø± Ø§Ù„Ù…Ù„Ù
                for (let i = 2; i < student.length; i++) {
                    let isTotal = (i === student.length - 1);
                    tableHtml += `<tr class="${isTotal ? 'total-row' : ''}">
                        <td>${subjects[i] || 'Ù…Ø§Ø¯Ø© Ø¥Ø¶Ø§ÙÙŠØ©'}</td>
                        <td>${student[i] || '0'}</td>
                    </tr>`;
                }

                document.getElementById('resultBody').innerHTML = tableHtml;
                resultSection.style.display = 'block';
            } else {
                alert("Ø¹ÙÙˆØ§Ù‹ØŒ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯");
            }
        } catch (error) {
            alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ ØªØ£ÙƒØ¯ÙŠ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª");
        }
    }
</script>

</body>
</html>
